"use client";var B=Object.defineProperty,E=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var u=(t,n,e)=>n in t?B(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,c=(t,n)=>{for(var e in n||(n={}))b.call(n,e)&&u(t,e,n[e]);if(m)for(var e of m(n))x.call(n,e)&&u(t,e,n[e]);return t},w=(t,n)=>E(t,R(n));var C=(t,n)=>{var e={};for(var i in t)b.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&m)for(var i of m(t))n.indexOf(i)<0&&x.call(t,i)&&(e[i]=t[i]);return e};var y=(t,n,e)=>new Promise((i,o)=>{var l=r=>{try{p(e.next(r))}catch(d){o(d)}},s=r=>{try{p(e.throw(r))}catch(d){o(d)}},p=r=>r.done?i(r.value):Promise.resolve(r.value).then(l,s);p((e=e.apply(t,n)).next())});import{Container as h,Button as v,IconButton as W,Typography as _,Tooltip as L,Link as $,Box as k}from"@mui/material";import{useEffect as F,useRef as M,useState as D}from"react";import{jsx as a,jsxs as z}from"react/jsx-runtime";var j=t=>[{label:"coordination",endpoint:"https://info.cfde.cloud/centers/ICC",rotate:"216deg",position:{transform:`translate(${-t/20}px, ${t/3.2+10}px)`},text_position:{top:"30%",left:"23%"},image_position:{top:"60%",left:"47%"}},{label:"cloud",endpoint:"https://info.cfde.cloud/centers/CWIC",rotate:"-72deg",position:{transform:`translate(${t/2.5}px, ${t/1.77+10}px)`},text_position:{top:"50%",left:"55%"},image_position:{top:"50%",left:"20%"}},{label:"knowledge",endpoint:"https://info.cfde.cloud/centers/KC",position:{transform:`translate(${t/3.25}px, ${t*1.07+10}px)`},text_position:{top:"75%",left:"10%"},image_position:{top:"30%",left:"13%"}},{label:"training",endpoint:"https://info.cfde.cloud/centers/TC",rotate:"72deg",position:{transform:`translate(${-t/5}px, ${t*1.135+10}px)`},text_position:{top:"65%",left:"15%"},image_position:{top:"20%",left:"45%"}},{label:"data",endpoint:"https://info.cfde.cloud/centers/DRC",rotate:"144deg",position:{transform:`translate(${-t/2.4}px, ${t/1.49+10}px)`},text_position:{top:"25%",left:"25%"},image_position:{top:"35%",left:"60%"}}],N=280;function S(){let[t,n]=D(()=>({height:window.innerHeight,width:window.innerWidth}));return F(()=>{let e={},i=()=>{e.resizeTimeout&&clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout(()=>{n({height:window.innerHeight,width:window.innerWidth})},200)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),t}function g({dccs:t,handleClose:n}){let e=2*Math.PI/t.length,i=S(),o=Math.max(Math.min(i.width/2,i.height/2,N)-30,100),l=M(null);return F(()=>{l.current&&l.current.addEventListener("click",n)},[l.current]),a(h,{sx:{position:"relative",height:"100vh"},ref:l,children:a(h,{sx:{position:"absolute",margin:0,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:z(h,{sx:{position:"relative",display:"flex",justifyContent:"center",marginTop:10,height:o*2.9},children:[t.map((s,p)=>{let r=e*p,d=o*Math.cos(r),I=o*Math.sin(r)+o;return a(L,{title:a(_,{children:s.description}),children:a(W,{sx:{background:"#fff",borderRadius:1e3,width:o/3.5,height:o/3.5,position:"absolute",transform:`translate(${d}px, ${I}px)`},children:a($,{href:s.homepage,children:a(k,{sx:{position:"relative",width:o/5,overflow:"hidden",height:o/5},children:a("img",{src:s.icon||"",alt:s.short_label||"",style:{top:0,left:0,position:"absolute",maxWidth:"100%",height:"100%",objectFit:"contain",color:"transparent"}})})})})},s.label||"")}),j(o).map((s,p)=>a(v,{sx:c({position:"absolute",width:o/1.47,height:o/1.47},s.position||{}),children:a(h,{sx:{position:"relative",width:o/1.65,height:o/1.65},children:z("a",{href:s.endpoint,children:[a("img",{src:`https://cfde-drc.s3.us-east-2.amazonaws.com/assets/img/${s.label}.png`,alt:s.label,loading:"lazy",decoding:"async",sizes:"100vw",style:{position:"absolute",height:"100%",width:"100%",maxWidth:"100%",inset:"0px",objectFit:"contain",color:"transparent",display:"block",transform:`rotate(${s.rotate||"0deg"})`}}),a(_,{sx:c({color:"#FFF",position:"absolute",textTransform:"uppercase",fontSize:o/17.5},s.text_position||{}),children:a("b",{children:s.label})}),a(h,{children:a("img",{src:`https://cfde-drc.s3.us-east-2.amazonaws.com/assets/img/${s.label} 1.png`,alt:s.label,style:c({position:"absolute",width:o/7,height:o/7,zIndex:100},s.image_position||{})})})]})})},s.label)),a(v,{variant:"contained",sx:{background:"#fff",borderRadius:1e3,width:o/2.3,height:o/2.3,position:"absolute",transform:`translate(${o/250}px, ${o/1.14+10}px)`,padding:1,zIndex:100},children:a($,{href:"https://info.cfde.cloud",children:a(k,{sx:{position:"relative",width:o/3,overflow:"hidden",height:o/3,zIndex:1e3},children:a("img",{src:"https://cfde-drc.s3.us-east-2.amazonaws.com/assets/img/CFDE_logo.png",alt:"CFDE_Logo",style:{top:0,left:0,position:"absolute",maxWidth:"100%",height:"100%",objectFit:"contain",color:"transparent"}})})})}),a(h,{sx:{background:"#000",borderRadius:"50%",width:o/1.2,height:o/1.2,position:"absolute",transform:`translate(${o/250}px, ${o/1.46+10}px)`,opacity:"0.5"}})]})})})}import{useEffect as A,useState as T}from"react";import H from"@mui/material/Modal";import O from"@mui/material/Fab";import K from"@mui/material/Button";import{Fragment as q,jsx as f,jsxs as G}from"react/jsx-runtime";var P=e=>{var i=e,{children:t}=i,n=C(i,["children"]);return f(O,w(c({},n),{sx:{position:"fixed",bottom:50,right:50,height:70,width:70,backgroundColor:"#FFF",padding:0},children:t}))},V=({button:t})=>{let[n,e]=T([]),[i,o]=T(!1),l=()=>o(!0),s=()=>o(!1),p=t?K:P;return A(()=>{y(null,null,function*(){let d=yield fetch("https://raw.githubusercontent.com/MaayanLab/cfde-wheel/refs/heads/main/src/dccs.json");e(yield d.json())})},[]),G("div",{children:[f(p,{onClick:l,children:f("img",{src:"https://cfde-drc.s3.us-east-2.amazonaws.com/assets/img/cfde_unified_icon.svg",alt:"nav-but",width:120,height:120})}),f(H,{open:i,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:f(q,{children:f(g,{dccs:n,handleClose:s})})})]})},at=V;export{at as default};
